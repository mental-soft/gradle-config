apply plugin: 'checkstyle'

checkstyle {
    toolVersion = '8.0'

    def config = new File("config/checkstyle/")
    config.deleteDir()
    config.mkdirs()
    new File("config/checkstyle/checkstyle.xml") <<
            new URL("https://raw.githubusercontent.com/mental-soft/gradle-config/master/xml/checkstyle/checkstyle.xml").getText()
    new File("config/checkstyle/suppressions.xml") <<
            new URL("https://raw.githubusercontent.com/mental-soft/gradle-config/master/xml/checkstyle/suppressions.xml").getText()

    ignoreFailures = ignoreFailuresInCheck.toBoolean()

    sourceSets = [sourceSets.main]

}